"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/projects/[id]/route";
exports.ids = ["app/api/projects/[id]/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2F%5Bid%5D%2Froute&page=%2Fapi%2Fprojects%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2F%5Bid%5D%2Froute.js&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2F%5Bid%5D%2Froute&page=%2Fapi%2Fprojects%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2F%5Bid%5D%2Froute.js&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_runner_workspace_app_api_projects_id_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/projects/[id]/route.js */ \"(rsc)/./app/api/projects/[id]/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/projects/[id]/route\",\n        pathname: \"/api/projects/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/projects/[id]/route\"\n    },\n    resolvedPagePath: \"/home/runner/workspace/app/api/projects/[id]/route.js\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_app_api_projects_id_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/projects/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9qZWN0cyUyRiU1QmlkJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwcm9qZWN0cyUyRiU1QmlkJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJvamVjdHMlMkYlNUJpZCU1RCUyRnJvdXRlLmpzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ0s7QUFDbEY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVlbC1lc3RpbWF0b3IvPzliOWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9hcHAvYXBpL3Byb2plY3RzL1tpZF0vcm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2plY3RzL1tpZF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9qZWN0cy9baWRdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wcm9qZWN0cy9baWRdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9hcHAvYXBpL3Byb2plY3RzL1tpZF0vcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcHJvamVjdHMvW2lkXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2F%5Bid%5D%2Froute&page=%2Fapi%2Fprojects%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2F%5Bid%5D%2Froute.js&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/projects/[id]/route.js":
/*!****************************************!*\
  !*** ./app/api/projects/[id]/route.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/db */ \"(rsc)/./lib/db.js\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/auth */ \"(rsc)/./lib/auth.js\");\n\n\n\n\nasync function getUser() {\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_2__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_3__.authOptions);\n    return session?.user || null;\n}\nconst FULL_PROJECT_INCLUDE = {\n    items: {\n        orderBy: {\n            sortOrder: \"asc\"\n        },\n        include: {\n            materials: {\n                orderBy: {\n                    sortOrder: \"asc\"\n                },\n                include: {\n                    fabrication: {\n                        orderBy: {\n                            sortOrder: \"asc\"\n                        }\n                    },\n                    children: {\n                        orderBy: {\n                            sortOrder: \"asc\"\n                        },\n                        include: {\n                            fabrication: {\n                                orderBy: {\n                                    sortOrder: \"asc\"\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            fabrication: {\n                orderBy: {\n                    sortOrder: \"asc\"\n                }\n            },\n            recapCosts: true\n        }\n    },\n    breakoutGroups: true,\n    adjustments: true,\n    exclusions: true,\n    qualifications: true,\n    customRecapColumns: true\n};\nfunction canViewProject(user, project) {\n    if (user.role === \"ADMIN\" || user.role === \"ESTIMATOR\") return true;\n    if ((user.role === \"PM\" || user.role === \"FIELD_SHOP\") && project.status === \"PUBLISHED\") return true;\n    return false;\n}\nfunction canEditProject(user, project) {\n    if (user.role === \"ADMIN\") return true;\n    if (user.role === \"ESTIMATOR\" && (project.status === \"DRAFT\" || project.status === \"IN_REVIEW\" || project.status === \"REOPENED\")) return true;\n    return false;\n}\nasync function GET(request, { params }) {\n    try {\n        const user = await getUser();\n        if (!user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { id } = await params;\n        const projectId = parseInt(id);\n        const project = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].project.findUnique({\n            where: {\n                id: projectId\n            },\n            include: FULL_PROJECT_INCLUDE\n        });\n        if (!project) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"Project not found\"\n            }, {\n                status: 404\n            });\n        }\n        if (!canViewProject(user, project)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"You do not have permission to view this estimate\"\n            }, {\n                status: 403\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json(project);\n    } catch (error) {\n        console.error(\"Error loading project:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n            error: \"Failed to load project\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request, { params }) {\n    try {\n        const user = await getUser();\n        if (!user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { id } = await params;\n        const projectId = parseInt(id);\n        const data = await request.json();\n        const existing = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].project.findUnique({\n            where: {\n                id: projectId\n            },\n            select: {\n                status: true\n            }\n        });\n        if (!existing) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"Project not found\"\n            }, {\n                status: 404\n            });\n        }\n        if (!canEditProject(user, existing)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"You do not have permission to edit this estimate\"\n            }, {\n                status: 403\n            });\n        }\n        const updatedProject = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$transaction(async (tx)=>{\n            await tx.project.update({\n                where: {\n                    id: projectId\n                },\n                data: {\n                    projectName: data.projectName ?? \"\",\n                    projectAddress: data.projectAddress ?? \"\",\n                    customerName: data.customerName ?? \"\",\n                    billingAddress: data.billingAddress ?? \"\",\n                    customerContact: data.customerContact ?? \"\",\n                    customerPhone: data.customerPhone ?? \"\",\n                    customerEmail: data.customerEmail ?? \"\",\n                    estimateDate: data.estimateDate ?? \"\",\n                    estimatedBy: data.estimatedBy ?? \"\",\n                    drawingDate: data.drawingDate ?? \"\",\n                    drawingRevision: data.drawingRevision ?? \"\",\n                    architect: data.architect ?? \"\",\n                    typeStructural: data.typeStructural ?? false,\n                    typeMiscellaneous: data.typeMiscellaneous ?? false,\n                    typeOrnamental: data.typeOrnamental ?? false,\n                    deliveryInstalled: data.deliveryInstalled ?? false,\n                    deliveryFobJobsite: data.deliveryFobJobsite ?? false,\n                    deliveryWillCall: data.deliveryWillCall ?? false,\n                    taxCategory: data.taxCategory ?? null\n                }\n            });\n            await tx.recapCost.deleteMany({\n                where: {\n                    item: {\n                        projectId\n                    }\n                }\n            });\n            await tx.childMaterialFabrication.deleteMany({\n                where: {\n                    childMaterial: {\n                        parent: {\n                            item: {\n                                projectId\n                            }\n                        }\n                    }\n                }\n            });\n            await tx.childMaterial.deleteMany({\n                where: {\n                    parent: {\n                        item: {\n                            projectId\n                        }\n                    }\n                }\n            });\n            await tx.materialFabrication.deleteMany({\n                where: {\n                    material: {\n                        item: {\n                            projectId\n                        }\n                    }\n                }\n            });\n            await tx.material.deleteMany({\n                where: {\n                    item: {\n                        projectId\n                    }\n                }\n            });\n            await tx.itemFabrication.deleteMany({\n                where: {\n                    item: {\n                        projectId\n                    }\n                }\n            });\n            await tx.item.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.breakoutGroup.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.adjustment.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.exclusion.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.qualification.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.customRecapColumn.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            const breakoutGroupMap = {};\n            if (data.breakoutGroups && data.breakoutGroups.length > 0) {\n                for (const group of data.breakoutGroups){\n                    const created = await tx.breakoutGroup.create({\n                        data: {\n                            projectId,\n                            name: group.name || \"\",\n                            type: group.type || \"base\"\n                        }\n                    });\n                    breakoutGroupMap[group.id] = created.id;\n                }\n            }\n            if (data.items && data.items.length > 0) {\n                for(let i = 0; i < data.items.length; i++){\n                    const item = data.items[i];\n                    const createdItem = await tx.item.create({\n                        data: {\n                            projectId,\n                            itemNumber: item.itemNumber || \"001\",\n                            itemName: item.itemName || \"New Item\",\n                            drawingRef: item.drawingRef || \"\",\n                            sortOrder: i,\n                            materialMarkup: item.materialMarkup || 0,\n                            fabMarkup: item.fabMarkup || 0,\n                            breakoutGroupId: item.breakoutGroupId ? breakoutGroupMap[item.breakoutGroupId] || null : null\n                        }\n                    });\n                    if (item.materials && item.materials.length > 0) {\n                        for(let mi = 0; mi < item.materials.length; mi++){\n                            const mat = item.materials[mi];\n                            const createdMat = await tx.material.create({\n                                data: {\n                                    itemId: createdItem.id,\n                                    sortOrder: mi,\n                                    category: mat.category || \"\",\n                                    shape: mat.shape || \"\",\n                                    length: mat.length || 0,\n                                    pieces: mat.pieces || 0,\n                                    stockLength: mat.stockLength || 0,\n                                    stocksRequired: mat.stocksRequired || 0,\n                                    waste: mat.waste || 0,\n                                    weightPerFt: mat.weightPerFt || 0,\n                                    fabWeight: mat.fabWeight || 0,\n                                    stockWeight: mat.stockWeight || 0,\n                                    pricePerFt: mat.pricePerFt || 0,\n                                    pricePerLb: mat.pricePerLb || 0,\n                                    totalCost: mat.totalCost || 0,\n                                    galvanized: mat.galvanized || false,\n                                    galvRate: mat.galvRate || 0,\n                                    width: mat.width || null,\n                                    thickness: mat.thickness || null\n                                }\n                            });\n                            if (mat.fabrication && mat.fabrication.length > 0) {\n                                for(let fi = 0; fi < mat.fabrication.length; fi++){\n                                    const fab = mat.fabrication[fi];\n                                    await tx.materialFabrication.create({\n                                        data: {\n                                            materialId: createdMat.id,\n                                            sortOrder: fi,\n                                            operation: fab.operation || \"\",\n                                            quantity: fab.quantity || 0,\n                                            unit: fab.unit || \"ea\",\n                                            rate: fab.rate || 0,\n                                            totalCost: fab.totalCost || 0,\n                                            connWeight: fab.connWeight || 0,\n                                            isGalvLine: fab.isGalvLine || false\n                                        }\n                                    });\n                                }\n                            }\n                            if (mat.children && mat.children.length > 0) {\n                                for(let ci = 0; ci < mat.children.length; ci++){\n                                    const child = mat.children[ci];\n                                    const createdChild = await tx.childMaterial.create({\n                                        data: {\n                                            parentId: createdMat.id,\n                                            sortOrder: ci,\n                                            category: child.category || \"\",\n                                            shape: child.shape || \"\",\n                                            length: child.length || 0,\n                                            pieces: child.pieces || 0,\n                                            stockLength: child.stockLength || 0,\n                                            stocksRequired: child.stocksRequired || 0,\n                                            waste: child.waste || 0,\n                                            weightPerFt: child.weightPerFt || 0,\n                                            fabWeight: child.fabWeight || 0,\n                                            stockWeight: child.stockWeight || 0,\n                                            pricePerFt: child.pricePerFt || 0,\n                                            pricePerLb: child.pricePerLb || 0,\n                                            totalCost: child.totalCost || 0,\n                                            galvanized: child.galvanized || false,\n                                            galvRate: child.galvRate || 0,\n                                            width: child.width || null,\n                                            thickness: child.thickness || null\n                                        }\n                                    });\n                                    if (child.fabrication && child.fabrication.length > 0) {\n                                        for(let cfi = 0; cfi < child.fabrication.length; cfi++){\n                                            const cfab = child.fabrication[cfi];\n                                            await tx.childMaterialFabrication.create({\n                                                data: {\n                                                    childMaterialId: createdChild.id,\n                                                    sortOrder: cfi,\n                                                    operation: cfab.operation || \"\",\n                                                    quantity: cfab.quantity || 0,\n                                                    unit: cfab.unit || \"ea\",\n                                                    rate: cfab.rate || 0,\n                                                    totalCost: cfab.totalCost || 0,\n                                                    connWeight: cfab.connWeight || 0,\n                                                    isGalvLine: cfab.isGalvLine || false\n                                                }\n                                            });\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (item.fabrication && item.fabrication.length > 0) {\n                        for(let ifi = 0; ifi < item.fabrication.length; ifi++){\n                            const ifab = item.fabrication[ifi];\n                            await tx.itemFabrication.create({\n                                data: {\n                                    itemId: createdItem.id,\n                                    sortOrder: ifi,\n                                    operation: ifab.operation || \"\",\n                                    quantity: ifab.quantity || 0,\n                                    unit: ifab.unit || \"ea\",\n                                    rate: ifab.rate || 0,\n                                    totalCost: ifab.totalCost || 0\n                                }\n                            });\n                        }\n                    }\n                    if (item.recapCosts) {\n                        const recapEntries = typeof item.recapCosts === \"object\" && !Array.isArray(item.recapCosts) ? Object.entries(item.recapCosts) : [];\n                        for (const [costType, costData] of recapEntries){\n                            await tx.recapCost.create({\n                                data: {\n                                    itemId: createdItem.id,\n                                    costType,\n                                    cost: costData.cost || 0,\n                                    markup: costData.markup || 0,\n                                    total: costData.total || 0,\n                                    hours: costData.hours || 0,\n                                    rate: costData.rate || 0\n                                }\n                            });\n                        }\n                    }\n                }\n            }\n            if (data.adjustments && data.adjustments.length > 0) {\n                for (const adj of data.adjustments){\n                    await tx.adjustment.create({\n                        data: {\n                            projectId,\n                            description: adj.description || \"\",\n                            amount: parseFloat(adj.amount) || 0\n                        }\n                    });\n                }\n            }\n            if (data.selectedExclusions && data.selectedExclusions.length > 0) {\n                for (const exc of data.selectedExclusions){\n                    await tx.exclusion.create({\n                        data: {\n                            projectId,\n                            text: exc,\n                            isCustom: false\n                        }\n                    });\n                }\n            }\n            if (data.customExclusions && data.customExclusions.length > 0) {\n                for (const exc of data.customExclusions){\n                    await tx.exclusion.create({\n                        data: {\n                            projectId,\n                            text: exc,\n                            isCustom: true\n                        }\n                    });\n                }\n            }\n            if (data.selectedQualifications && data.selectedQualifications.length > 0) {\n                for (const qual of data.selectedQualifications){\n                    await tx.qualification.create({\n                        data: {\n                            projectId,\n                            text: qual,\n                            isCustom: false\n                        }\n                    });\n                }\n            }\n            if (data.customQualifications && data.customQualifications.length > 0) {\n                for (const qual of data.customQualifications){\n                    await tx.qualification.create({\n                        data: {\n                            projectId,\n                            text: qual,\n                            isCustom: true\n                        }\n                    });\n                }\n            }\n            if (data.customRecapColumns && data.customRecapColumns.length > 0) {\n                for (const col of data.customRecapColumns){\n                    await tx.customRecapColumn.create({\n                        data: {\n                            projectId,\n                            key: col.key,\n                            name: col.name\n                        }\n                    });\n                }\n            }\n            return await tx.project.findUnique({\n                where: {\n                    id: projectId\n                },\n                include: FULL_PROJECT_INCLUDE\n            });\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json(updatedProject);\n    } catch (error) {\n        console.error(\"Error saving project:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n            error: \"Failed to save project\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request, { params }) {\n    try {\n        const user = await getUser();\n        if (!user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        if (user.role !== \"ADMIN\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"Only admins can delete estimates\"\n            }, {\n                status: 403\n            });\n        }\n        const { id } = await params;\n        const projectId = parseInt(id);\n        const existing = await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].project.findUnique({\n            where: {\n                id: projectId\n            },\n            select: {\n                id: true\n            }\n        });\n        if (!existing) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"Project not found\"\n            }, {\n                status: 404\n            });\n        }\n        await _lib_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$transaction(async (tx)=>{\n            await tx.recapCost.deleteMany({\n                where: {\n                    item: {\n                        projectId\n                    }\n                }\n            });\n            await tx.childMaterialFabrication.deleteMany({\n                where: {\n                    childMaterial: {\n                        parent: {\n                            item: {\n                                projectId\n                            }\n                        }\n                    }\n                }\n            });\n            await tx.childMaterial.deleteMany({\n                where: {\n                    parent: {\n                        item: {\n                            projectId\n                        }\n                    }\n                }\n            });\n            await tx.materialFabrication.deleteMany({\n                where: {\n                    material: {\n                        item: {\n                            projectId\n                        }\n                    }\n                }\n            });\n            await tx.material.deleteMany({\n                where: {\n                    item: {\n                        projectId\n                    }\n                }\n            });\n            await tx.itemFabrication.deleteMany({\n                where: {\n                    item: {\n                        projectId\n                    }\n                }\n            });\n            await tx.item.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.breakoutGroup.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.adjustment.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.exclusion.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.qualification.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.customRecapColumn.deleteMany({\n                where: {\n                    projectId\n                }\n            });\n            await tx.project.delete({\n                where: {\n                    id: projectId\n                }\n            });\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"Error deleting project:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n            error: \"Failed to delete project\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEM7b0JBQVU7Z0JBQUU7WUFBRTtZQUNyRSxNQUFNVyxHQUFHdUIsSUFBSSxDQUFDRCxVQUFVLENBQUM7Z0JBQUU5QixPQUFPO29CQUFFSDtnQkFBVTtZQUFFO1lBQ2hELE1BQU1XLEdBQUc4QixhQUFhLENBQUNSLFVBQVUsQ0FBQztnQkFBRTlCLE9BQU87b0JBQUVIO2dCQUFVO1lBQUU7WUFDekQsTUFBTVcsR0FBRytCLFVBQVUsQ0FBQ1QsVUFBVSxDQUFDO2dCQUFFOUIsT0FBTztvQkFBRUg7Z0JBQVU7WUFBRTtZQUN0RCxNQUFNVyxHQUFHZ0MsU0FBUyxDQUFDVixVQUFVLENBQUM7Z0JBQUU5QixPQUFPO29CQUFFSDtnQkFBVTtZQUFFO1lBQ3JELE1BQU1XLEdBQUdpQyxhQUFhLENBQUNYLFVBQVUsQ0FBQztnQkFBRTlCLE9BQU87b0JBQUVIO2dCQUFVO1lBQUU7WUFDekQsTUFBTVcsR0FBR2tDLGlCQUFpQixDQUFDWixVQUFVLENBQUM7Z0JBQUU5QixPQUFPO29CQUFFSDtnQkFBVTtZQUFFO1lBQzdELE1BQU1XLEdBQUdyQixPQUFPLENBQUN1SSxNQUFNLENBQUM7Z0JBQUUxSCxPQUFPO29CQUFFSixJQUFJQztnQkFBVTtZQUFFO1FBQ3JEO1FBRUEsT0FBTy9CLGtGQUFZQSxDQUFDNEIsSUFBSSxDQUFDO1lBQUVpSSxTQUFTO1FBQUs7SUFFM0MsRUFBRSxPQUFPaEksT0FBTztRQUNkTSxRQUFRTixLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPN0Isa0ZBQVlBLENBQUM0QixJQUFJLENBQUM7WUFBRUMsT0FBTztRQUEyQixHQUFHO1lBQUVOLFFBQVE7UUFBSTtJQUNoRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlZWwtZXN0aW1hdG9yLy4vYXBwL2FwaS9wcm9qZWN0cy9baWRdL3JvdXRlLmpzPzc0ZjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHByaXNtYSBmcm9tICcuLi8uLi8uLi8uLi9saWIvZGInO1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9hdXRoJztcblxuYXN5bmMgZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xuICByZXR1cm4gc2Vzc2lvbj8udXNlciB8fCBudWxsO1xufVxuXG5jb25zdCBGVUxMX1BST0pFQ1RfSU5DTFVERSA9IHtcbiAgaXRlbXM6IHtcbiAgICBvcmRlckJ5OiB7IHNvcnRPcmRlcjogJ2FzYycgfSxcbiAgICBpbmNsdWRlOiB7XG4gICAgICBtYXRlcmlhbHM6IHtcbiAgICAgICAgb3JkZXJCeTogeyBzb3J0T3JkZXI6ICdhc2MnIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBmYWJyaWNhdGlvbjogeyBvcmRlckJ5OiB7IHNvcnRPcmRlcjogJ2FzYycgfSB9LFxuICAgICAgICAgIGNoaWxkcmVuOiB7XG4gICAgICAgICAgICBvcmRlckJ5OiB7IHNvcnRPcmRlcjogJ2FzYycgfSxcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgZmFicmljYXRpb246IHsgb3JkZXJCeTogeyBzb3J0T3JkZXI6ICdhc2MnIH0gfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZhYnJpY2F0aW9uOiB7IG9yZGVyQnk6IHsgc29ydE9yZGVyOiAnYXNjJyB9IH0sXG4gICAgICByZWNhcENvc3RzOiB0cnVlXG4gICAgfVxuICB9LFxuICBicmVha291dEdyb3VwczogdHJ1ZSxcbiAgYWRqdXN0bWVudHM6IHRydWUsXG4gIGV4Y2x1c2lvbnM6IHRydWUsXG4gIHF1YWxpZmljYXRpb25zOiB0cnVlLFxuICBjdXN0b21SZWNhcENvbHVtbnM6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGNhblZpZXdQcm9qZWN0KHVzZXIsIHByb2plY3QpIHtcbiAgaWYgKHVzZXIucm9sZSA9PT0gJ0FETUlOJyB8fCB1c2VyLnJvbGUgPT09ICdFU1RJTUFUT1InKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKCh1c2VyLnJvbGUgPT09ICdQTScgfHwgdXNlci5yb2xlID09PSAnRklFTERfU0hPUCcpICYmIHByb2plY3Quc3RhdHVzID09PSAnUFVCTElTSEVEJykgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gY2FuRWRpdFByb2plY3QodXNlciwgcHJvamVjdCkge1xuICBpZiAodXNlci5yb2xlID09PSAnQURNSU4nKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKHVzZXIucm9sZSA9PT0gJ0VTVElNQVRPUicgJiYgKHByb2plY3Quc3RhdHVzID09PSAnRFJBRlQnIHx8IHByb2plY3Quc3RhdHVzID09PSAnSU5fUkVWSUVXJyB8fCBwcm9qZWN0LnN0YXR1cyA9PT0gJ1JFT1BFTkVEJykpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdCwgeyBwYXJhbXMgfSkge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyKCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGlkIH0gPSBhd2FpdCBwYXJhbXM7XG4gICAgY29uc3QgcHJvamVjdElkID0gcGFyc2VJbnQoaWQpO1xuXG4gICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHByaXNtYS5wcm9qZWN0LmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3RJZCB9LFxuICAgICAgaW5jbHVkZTogRlVMTF9QUk9KRUNUX0lOQ0xVREVcbiAgICB9KTtcblxuICAgIGlmICghcHJvamVjdCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdQcm9qZWN0IG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICB9XG5cbiAgICBpZiAoIWNhblZpZXdQcm9qZWN0KHVzZXIsIHByb2plY3QpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHZpZXcgdGhpcyBlc3RpbWF0ZScgfSwgeyBzdGF0dXM6IDQwMyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocHJvamVjdCk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHByb2plY3Q6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGxvYWQgcHJvamVjdCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3QsIHsgcGFyYW1zIH0pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0VXNlcigpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpZCB9ID0gYXdhaXQgcGFyYW1zO1xuICAgIGNvbnN0IHByb2plY3RJZCA9IHBhcnNlSW50KGlkKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cbiAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IHByaXNtYS5wcm9qZWN0LmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3RJZCB9LFxuICAgICAgc2VsZWN0OiB7IHN0YXR1czogdHJ1ZSB9XG4gICAgfSk7XG5cbiAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Byb2plY3Qgbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xuICAgIH1cblxuICAgIGlmICghY2FuRWRpdFByb2plY3QodXNlciwgZXhpc3RpbmcpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGVkaXQgdGhpcyBlc3RpbWF0ZScgfSwgeyBzdGF0dXM6IDQwMyB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkUHJvamVjdCA9IGF3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oYXN5bmMgKHR4KSA9PiB7XG5cbiAgICAgIGF3YWl0IHR4LnByb2plY3QudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3RJZCB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcHJvamVjdE5hbWU6IGRhdGEucHJvamVjdE5hbWUgPz8gJycsXG4gICAgICAgICAgcHJvamVjdEFkZHJlc3M6IGRhdGEucHJvamVjdEFkZHJlc3MgPz8gJycsXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiBkYXRhLmN1c3RvbWVyTmFtZSA/PyAnJyxcbiAgICAgICAgICBiaWxsaW5nQWRkcmVzczogZGF0YS5iaWxsaW5nQWRkcmVzcyA/PyAnJyxcbiAgICAgICAgICBjdXN0b21lckNvbnRhY3Q6IGRhdGEuY3VzdG9tZXJDb250YWN0ID8/ICcnLFxuICAgICAgICAgIGN1c3RvbWVyUGhvbmU6IGRhdGEuY3VzdG9tZXJQaG9uZSA/PyAnJyxcbiAgICAgICAgICBjdXN0b21lckVtYWlsOiBkYXRhLmN1c3RvbWVyRW1haWwgPz8gJycsXG4gICAgICAgICAgZXN0aW1hdGVEYXRlOiBkYXRhLmVzdGltYXRlRGF0ZSA/PyAnJyxcbiAgICAgICAgICBlc3RpbWF0ZWRCeTogZGF0YS5lc3RpbWF0ZWRCeSA/PyAnJyxcbiAgICAgICAgICBkcmF3aW5nRGF0ZTogZGF0YS5kcmF3aW5nRGF0ZSA/PyAnJyxcbiAgICAgICAgICBkcmF3aW5nUmV2aXNpb246IGRhdGEuZHJhd2luZ1JldmlzaW9uID8/ICcnLFxuICAgICAgICAgIGFyY2hpdGVjdDogZGF0YS5hcmNoaXRlY3QgPz8gJycsXG4gICAgICAgICAgdHlwZVN0cnVjdHVyYWw6IGRhdGEudHlwZVN0cnVjdHVyYWwgPz8gZmFsc2UsXG4gICAgICAgICAgdHlwZU1pc2NlbGxhbmVvdXM6IGRhdGEudHlwZU1pc2NlbGxhbmVvdXMgPz8gZmFsc2UsXG4gICAgICAgICAgdHlwZU9ybmFtZW50YWw6IGRhdGEudHlwZU9ybmFtZW50YWwgPz8gZmFsc2UsXG4gICAgICAgICAgZGVsaXZlcnlJbnN0YWxsZWQ6IGRhdGEuZGVsaXZlcnlJbnN0YWxsZWQgPz8gZmFsc2UsXG4gICAgICAgICAgZGVsaXZlcnlGb2JKb2JzaXRlOiBkYXRhLmRlbGl2ZXJ5Rm9iSm9ic2l0ZSA/PyBmYWxzZSxcbiAgICAgICAgICBkZWxpdmVyeVdpbGxDYWxsOiBkYXRhLmRlbGl2ZXJ5V2lsbENhbGwgPz8gZmFsc2UsXG4gICAgICAgICAgdGF4Q2F0ZWdvcnk6IGRhdGEudGF4Q2F0ZWdvcnkgPz8gbnVsbCxcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHR4LnJlY2FwQ29zdC5kZWxldGVNYW55KHsgd2hlcmU6IHsgaXRlbTogeyBwcm9qZWN0SWQgfSB9IH0pO1xuICAgICAgYXdhaXQgdHguY2hpbGRNYXRlcmlhbEZhYnJpY2F0aW9uLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyBjaGlsZE1hdGVyaWFsOiB7IHBhcmVudDogeyBpdGVtOiB7IHByb2plY3RJZCB9IH0gfSB9IH0pO1xuICAgICAgYXdhaXQgdHguY2hpbGRNYXRlcmlhbC5kZWxldGVNYW55KHsgd2hlcmU6IHsgcGFyZW50OiB7IGl0ZW06IHsgcHJvamVjdElkIH0gfSB9IH0pO1xuICAgICAgYXdhaXQgdHgubWF0ZXJpYWxGYWJyaWNhdGlvbi5kZWxldGVNYW55KHsgd2hlcmU6IHsgbWF0ZXJpYWw6IHsgaXRlbTogeyBwcm9qZWN0SWQgfSB9IH0gfSk7XG4gICAgICBhd2FpdCB0eC5tYXRlcmlhbC5kZWxldGVNYW55KHsgd2hlcmU6IHsgaXRlbTogeyBwcm9qZWN0SWQgfSB9IH0pO1xuICAgICAgYXdhaXQgdHguaXRlbUZhYnJpY2F0aW9uLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyBpdGVtOiB7IHByb2plY3RJZCB9IH0gfSk7XG4gICAgICBhd2FpdCB0eC5pdGVtLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyBwcm9qZWN0SWQgfSB9KTtcbiAgICAgIGF3YWl0IHR4LmJyZWFrb3V0R3JvdXAuZGVsZXRlTWFueSh7IHdoZXJlOiB7IHByb2plY3RJZCB9IH0pO1xuICAgICAgYXdhaXQgdHguYWRqdXN0bWVudC5kZWxldGVNYW55KHsgd2hlcmU6IHsgcHJvamVjdElkIH0gfSk7XG4gICAgICBhd2FpdCB0eC5leGNsdXNpb24uZGVsZXRlTWFueSh7IHdoZXJlOiB7IHByb2plY3RJZCB9IH0pO1xuICAgICAgYXdhaXQgdHgucXVhbGlmaWNhdGlvbi5kZWxldGVNYW55KHsgd2hlcmU6IHsgcHJvamVjdElkIH0gfSk7XG4gICAgICBhd2FpdCB0eC5jdXN0b21SZWNhcENvbHVtbi5kZWxldGVNYW55KHsgd2hlcmU6IHsgcHJvamVjdElkIH0gfSk7XG5cbiAgICAgIGNvbnN0IGJyZWFrb3V0R3JvdXBNYXAgPSB7fTtcblxuICAgICAgaWYgKGRhdGEuYnJlYWtvdXRHcm91cHMgJiYgZGF0YS5icmVha291dEdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgZGF0YS5icmVha291dEdyb3Vwcykge1xuICAgICAgICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCB0eC5icmVha291dEdyb3VwLmNyZWF0ZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHByb2plY3RJZCxcbiAgICAgICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgdHlwZTogZ3JvdXAudHlwZSB8fCAnYmFzZScsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWtvdXRHcm91cE1hcFtncm91cC5pZF0gPSBjcmVhdGVkLmlkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhLml0ZW1zICYmIGRhdGEuaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZGF0YS5pdGVtc1tpXTtcblxuICAgICAgICAgIGNvbnN0IGNyZWF0ZWRJdGVtID0gYXdhaXQgdHguaXRlbS5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBwcm9qZWN0SWQsXG4gICAgICAgICAgICAgIGl0ZW1OdW1iZXI6IGl0ZW0uaXRlbU51bWJlciB8fCAnMDAxJyxcbiAgICAgICAgICAgICAgaXRlbU5hbWU6IGl0ZW0uaXRlbU5hbWUgfHwgJ05ldyBJdGVtJyxcbiAgICAgICAgICAgICAgZHJhd2luZ1JlZjogaXRlbS5kcmF3aW5nUmVmIHx8ICcnLFxuICAgICAgICAgICAgICBzb3J0T3JkZXI6IGksXG4gICAgICAgICAgICAgIG1hdGVyaWFsTWFya3VwOiBpdGVtLm1hdGVyaWFsTWFya3VwIHx8IDAsXG4gICAgICAgICAgICAgIGZhYk1hcmt1cDogaXRlbS5mYWJNYXJrdXAgfHwgMCxcbiAgICAgICAgICAgICAgYnJlYWtvdXRHcm91cElkOiBpdGVtLmJyZWFrb3V0R3JvdXBJZFxuICAgICAgICAgICAgICAgID8gKGJyZWFrb3V0R3JvdXBNYXBbaXRlbS5icmVha291dEdyb3VwSWRdIHx8IG51bGwpXG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGl0ZW0ubWF0ZXJpYWxzICYmIGl0ZW0ubWF0ZXJpYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IG1pID0gMDsgbWkgPCBpdGVtLm1hdGVyaWFscy5sZW5ndGg7IG1pKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgbWF0ID0gaXRlbS5tYXRlcmlhbHNbbWldO1xuXG4gICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWRNYXQgPSBhd2FpdCB0eC5tYXRlcmlhbC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgIGl0ZW1JZDogY3JlYXRlZEl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICBzb3J0T3JkZXI6IG1pLFxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IG1hdC5jYXRlZ29yeSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgIHNoYXBlOiBtYXQuc2hhcGUgfHwgJycsXG4gICAgICAgICAgICAgICAgICBsZW5ndGg6IG1hdC5sZW5ndGggfHwgMCxcbiAgICAgICAgICAgICAgICAgIHBpZWNlczogbWF0LnBpZWNlcyB8fCAwLFxuICAgICAgICAgICAgICAgICAgc3RvY2tMZW5ndGg6IG1hdC5zdG9ja0xlbmd0aCB8fCAwLFxuICAgICAgICAgICAgICAgICAgc3RvY2tzUmVxdWlyZWQ6IG1hdC5zdG9ja3NSZXF1aXJlZCB8fCAwLFxuICAgICAgICAgICAgICAgICAgd2FzdGU6IG1hdC53YXN0ZSB8fCAwLFxuICAgICAgICAgICAgICAgICAgd2VpZ2h0UGVyRnQ6IG1hdC53ZWlnaHRQZXJGdCB8fCAwLFxuICAgICAgICAgICAgICAgICAgZmFiV2VpZ2h0OiBtYXQuZmFiV2VpZ2h0IHx8IDAsXG4gICAgICAgICAgICAgICAgICBzdG9ja1dlaWdodDogbWF0LnN0b2NrV2VpZ2h0IHx8IDAsXG4gICAgICAgICAgICAgICAgICBwcmljZVBlckZ0OiBtYXQucHJpY2VQZXJGdCB8fCAwLFxuICAgICAgICAgICAgICAgICAgcHJpY2VQZXJMYjogbWF0LnByaWNlUGVyTGIgfHwgMCxcbiAgICAgICAgICAgICAgICAgIHRvdGFsQ29zdDogbWF0LnRvdGFsQ29zdCB8fCAwLFxuICAgICAgICAgICAgICAgICAgZ2FsdmFuaXplZDogbWF0LmdhbHZhbml6ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgICBnYWx2UmF0ZTogbWF0LmdhbHZSYXRlIHx8IDAsXG4gICAgICAgICAgICAgICAgICB3aWR0aDogbWF0LndpZHRoIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICB0aGlja25lc3M6IG1hdC50aGlja25lc3MgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmIChtYXQuZmFicmljYXRpb24gJiYgbWF0LmZhYnJpY2F0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBmaSA9IDA7IGZpIDwgbWF0LmZhYnJpY2F0aW9uLmxlbmd0aDsgZmkrKykge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZmFiID0gbWF0LmZhYnJpY2F0aW9uW2ZpXTtcbiAgICAgICAgICAgICAgICAgIGF3YWl0IHR4Lm1hdGVyaWFsRmFicmljYXRpb24uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsSWQ6IGNyZWF0ZWRNYXQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgc29ydE9yZGVyOiBmaSxcbiAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb246IGZhYi5vcGVyYXRpb24gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IGZhYi5xdWFudGl0eSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6IGZhYi51bml0IHx8ICdlYScsXG4gICAgICAgICAgICAgICAgICAgICAgcmF0ZTogZmFiLnJhdGUgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICB0b3RhbENvc3Q6IGZhYi50b3RhbENvc3QgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICBjb25uV2VpZ2h0OiBmYWIuY29ubldlaWdodCB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgIGlzR2FsdkxpbmU6IGZhYi5pc0dhbHZMaW5lIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAobWF0LmNoaWxkcmVuICYmIG1hdC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY2kgPSAwOyBjaSA8IG1hdC5jaGlsZHJlbi5sZW5ndGg7IGNpKyspIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbWF0LmNoaWxkcmVuW2NpXTtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgY3JlYXRlZENoaWxkID0gYXdhaXQgdHguY2hpbGRNYXRlcmlhbC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgcGFyZW50SWQ6IGNyZWF0ZWRNYXQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgc29ydE9yZGVyOiBjaSxcbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2hpbGQuY2F0ZWdvcnkgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgc2hhcGU6IGNoaWxkLnNoYXBlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aDogY2hpbGQubGVuZ3RoIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgcGllY2VzOiBjaGlsZC5waWVjZXMgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICBzdG9ja0xlbmd0aDogY2hpbGQuc3RvY2tMZW5ndGggfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICBzdG9ja3NSZXF1aXJlZDogY2hpbGQuc3RvY2tzUmVxdWlyZWQgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICB3YXN0ZTogY2hpbGQud2FzdGUgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHRQZXJGdDogY2hpbGQud2VpZ2h0UGVyRnQgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICBmYWJXZWlnaHQ6IGNoaWxkLmZhYldlaWdodCB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgIHN0b2NrV2VpZ2h0OiBjaGlsZC5zdG9ja1dlaWdodCB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgIHByaWNlUGVyRnQ6IGNoaWxkLnByaWNlUGVyRnQgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICBwcmljZVBlckxiOiBjaGlsZC5wcmljZVBlckxiIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgdG90YWxDb3N0OiBjaGlsZC50b3RhbENvc3QgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICBnYWx2YW5pemVkOiBjaGlsZC5nYWx2YW5pemVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIGdhbHZSYXRlOiBjaGlsZC5nYWx2UmF0ZSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjaGlsZC53aWR0aCB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaWNrbmVzczogY2hpbGQudGhpY2tuZXNzIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZmFicmljYXRpb24gJiYgY2hpbGQuZmFicmljYXRpb24ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjZmkgPSAwOyBjZmkgPCBjaGlsZC5mYWJyaWNhdGlvbi5sZW5ndGg7IGNmaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2ZhYiA9IGNoaWxkLmZhYnJpY2F0aW9uW2NmaV07XG4gICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdHguY2hpbGRNYXRlcmlhbEZhYnJpY2F0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTWF0ZXJpYWxJZDogY3JlYXRlZENoaWxkLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0T3JkZXI6IGNmaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBjZmFiLm9wZXJhdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IGNmYWIucXVhbnRpdHkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdDogY2ZhYi51bml0IHx8ICdlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGU6IGNmYWIucmF0ZSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbENvc3Q6IGNmYWIudG90YWxDb3N0IHx8IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5XZWlnaHQ6IGNmYWIuY29ubldlaWdodCB8fCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0dhbHZMaW5lOiBjZmFiLmlzR2FsdkxpbmUgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXRlbS5mYWJyaWNhdGlvbiAmJiBpdGVtLmZhYnJpY2F0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlmaSA9IDA7IGlmaSA8IGl0ZW0uZmFicmljYXRpb24ubGVuZ3RoOyBpZmkrKykge1xuICAgICAgICAgICAgICBjb25zdCBpZmFiID0gaXRlbS5mYWJyaWNhdGlvbltpZmldO1xuICAgICAgICAgICAgICBhd2FpdCB0eC5pdGVtRmFicmljYXRpb24uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICBpdGVtSWQ6IGNyZWF0ZWRJdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgc29ydE9yZGVyOiBpZmksXG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb246IGlmYWIub3BlcmF0aW9uIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IGlmYWIucXVhbnRpdHkgfHwgMCxcbiAgICAgICAgICAgICAgICAgIHVuaXQ6IGlmYWIudW5pdCB8fCAnZWEnLFxuICAgICAgICAgICAgICAgICAgcmF0ZTogaWZhYi5yYXRlIHx8IDAsXG4gICAgICAgICAgICAgICAgICB0b3RhbENvc3Q6IGlmYWIudG90YWxDb3N0IHx8IDAsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXRlbS5yZWNhcENvc3RzKSB7XG4gICAgICAgICAgICBjb25zdCByZWNhcEVudHJpZXMgPSB0eXBlb2YgaXRlbS5yZWNhcENvc3RzID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpdGVtLnJlY2FwQ29zdHMpXG4gICAgICAgICAgICAgID8gT2JqZWN0LmVudHJpZXMoaXRlbS5yZWNhcENvc3RzKVxuICAgICAgICAgICAgICA6IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtjb3N0VHlwZSwgY29zdERhdGFdIG9mIHJlY2FwRW50cmllcykge1xuICAgICAgICAgICAgICBhd2FpdCB0eC5yZWNhcENvc3QuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICBpdGVtSWQ6IGNyZWF0ZWRJdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgY29zdFR5cGUsXG4gICAgICAgICAgICAgICAgICBjb3N0OiBjb3N0RGF0YS5jb3N0IHx8IDAsXG4gICAgICAgICAgICAgICAgICBtYXJrdXA6IGNvc3REYXRhLm1hcmt1cCB8fCAwLFxuICAgICAgICAgICAgICAgICAgdG90YWw6IGNvc3REYXRhLnRvdGFsIHx8IDAsXG4gICAgICAgICAgICAgICAgICBob3VyczogY29zdERhdGEuaG91cnMgfHwgMCxcbiAgICAgICAgICAgICAgICAgIHJhdGU6IGNvc3REYXRhLnJhdGUgfHwgMCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YS5hZGp1c3RtZW50cyAmJiBkYXRhLmFkanVzdG1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBhZGogb2YgZGF0YS5hZGp1c3RtZW50cykge1xuICAgICAgICAgIGF3YWl0IHR4LmFkanVzdG1lbnQuY3JlYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgcHJvamVjdElkLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYWRqLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgICBhbW91bnQ6IHBhcnNlRmxvYXQoYWRqLmFtb3VudCkgfHwgMCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YS5zZWxlY3RlZEV4Y2x1c2lvbnMgJiYgZGF0YS5zZWxlY3RlZEV4Y2x1c2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGV4YyBvZiBkYXRhLnNlbGVjdGVkRXhjbHVzaW9ucykge1xuICAgICAgICAgIGF3YWl0IHR4LmV4Y2x1c2lvbi5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YTogeyBwcm9qZWN0SWQsIHRleHQ6IGV4YywgaXNDdXN0b206IGZhbHNlIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRhdGEuY3VzdG9tRXhjbHVzaW9ucyAmJiBkYXRhLmN1c3RvbUV4Y2x1c2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGV4YyBvZiBkYXRhLmN1c3RvbUV4Y2x1c2lvbnMpIHtcbiAgICAgICAgICBhd2FpdCB0eC5leGNsdXNpb24uY3JlYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHsgcHJvamVjdElkLCB0ZXh0OiBleGMsIGlzQ3VzdG9tOiB0cnVlIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YS5zZWxlY3RlZFF1YWxpZmljYXRpb25zICYmIGRhdGEuc2VsZWN0ZWRRdWFsaWZpY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgcXVhbCBvZiBkYXRhLnNlbGVjdGVkUXVhbGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICBhd2FpdCB0eC5xdWFsaWZpY2F0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICBkYXRhOiB7IHByb2plY3RJZCwgdGV4dDogcXVhbCwgaXNDdXN0b206IGZhbHNlIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRhdGEuY3VzdG9tUXVhbGlmaWNhdGlvbnMgJiYgZGF0YS5jdXN0b21RdWFsaWZpY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgcXVhbCBvZiBkYXRhLmN1c3RvbVF1YWxpZmljYXRpb25zKSB7XG4gICAgICAgICAgYXdhaXQgdHgucXVhbGlmaWNhdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YTogeyBwcm9qZWN0SWQsIHRleHQ6IHF1YWwsIGlzQ3VzdG9tOiB0cnVlIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YS5jdXN0b21SZWNhcENvbHVtbnMgJiYgZGF0YS5jdXN0b21SZWNhcENvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNvbCBvZiBkYXRhLmN1c3RvbVJlY2FwQ29sdW1ucykge1xuICAgICAgICAgIGF3YWl0IHR4LmN1c3RvbVJlY2FwQ29sdW1uLmNyZWF0ZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHByb2plY3RJZCxcbiAgICAgICAgICAgICAga2V5OiBjb2wua2V5LFxuICAgICAgICAgICAgICBuYW1lOiBjb2wubmFtZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgdHgucHJvamVjdC5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3RJZCB9LFxuICAgICAgICBpbmNsdWRlOiBGVUxMX1BST0pFQ1RfSU5DTFVERVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24odXBkYXRlZFByb2plY3QpO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHByb2plY3Q6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHNhdmUgcHJvamVjdCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3QsIHsgcGFyYW1zIH0pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0VXNlcigpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgaWYgKHVzZXIucm9sZSAhPT0gJ0FETUlOJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdPbmx5IGFkbWlucyBjYW4gZGVsZXRlIGVzdGltYXRlcycgfSwgeyBzdGF0dXM6IDQwMyB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGlkIH0gPSBhd2FpdCBwYXJhbXM7XG4gICAgY29uc3QgcHJvamVjdElkID0gcGFyc2VJbnQoaWQpO1xuXG4gICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBwcmlzbWEucHJvamVjdC5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwcm9qZWN0SWQgfSxcbiAgICAgIHNlbGVjdDogeyBpZDogdHJ1ZSB9XG4gICAgfSk7XG5cbiAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Byb2plY3Qgbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xuICAgIH1cblxuICAgIGF3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oYXN5bmMgKHR4KSA9PiB7XG4gICAgICBhd2FpdCB0eC5yZWNhcENvc3QuZGVsZXRlTWFueSh7IHdoZXJlOiB7IGl0ZW06IHsgcHJvamVjdElkIH0gfSB9KTtcbiAgICAgIGF3YWl0IHR4LmNoaWxkTWF0ZXJpYWxGYWJyaWNhdGlvbi5kZWxldGVNYW55KHsgd2hlcmU6IHsgY2hpbGRNYXRlcmlhbDogeyBwYXJlbnQ6IHsgaXRlbTogeyBwcm9qZWN0SWQgfSB9IH0gfSB9KTtcbiAgICAgIGF3YWl0IHR4LmNoaWxkTWF0ZXJpYWwuZGVsZXRlTWFueSh7IHdoZXJlOiB7IHBhcmVudDogeyBpdGVtOiB7IHByb2plY3RJZCB9IH0gfSB9KTtcbiAgICAgIGF3YWl0IHR4Lm1hdGVyaWFsRmFicmljYXRpb24uZGVsZXRlTWFueSh7IHdoZXJlOiB7IG1hdGVyaWFsOiB7IGl0ZW06IHsgcHJvamVjdElkIH0gfSB9IH0pO1xuICAgICAgYXdhaXQgdHgubWF0ZXJpYWwuZGVsZXRlTWFueSh7IHdoZXJlOiB7IGl0ZW06IHsgcHJvamVjdElkIH0gfSB9KTtcbiAgICAgIGF3YWl0IHR4Lml0ZW1GYWJyaWNhdGlvbi5kZWxldGVNYW55KHsgd2hlcmU6IHsgaXRlbTogeyBwcm9qZWN0SWQgfSB9IH0pO1xuICAgICAgYXdhaXQgdHguaXRlbS5kZWxldGVNYW55KHsgd2hlcmU6IHsgcHJvamVjdElkIH0gfSk7XG4gICAgICBhd2FpdCB0eC5icmVha291dEdyb3VwLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyBwcm9qZWN0SWQgfSB9KTtcbiAgICAgIGF3YWl0IHR4LmFkanVzdG1lbnQuZGVsZXRlTWFueSh7IHdoZXJlOiB7IHByb2plY3RJZCB9IH0pO1xuICAgICAgYXdhaXQgdHguZXhjbHVzaW9uLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyBwcm9qZWN0SWQgfSB9KTtcbiAgICAgIGF3YWl0IHR4LnF1YWxpZmljYXRpb24uZGVsZXRlTWFueSh7IHdoZXJlOiB7IHByb2plY3RJZCB9IH0pO1xuICAgICAgYXdhaXQgdHguY3VzdG9tUmVjYXBDb2x1bW4uZGVsZXRlTWFueSh7IHdoZXJlOiB7IHByb2plY3RJZCB9IH0pO1xuICAgICAgYXdhaXQgdHgucHJvamVjdC5kZWxldGUoeyB3aGVyZTogeyBpZDogcHJvamVjdElkIH0gfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgcHJvamVjdDonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZGVsZXRlIHByb2plY3QnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJOZXh0UmVzcG9uc2UiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJnZXRVc2VyIiwic2Vzc2lvbiIsInVzZXIiLCJGVUxMX1BST0pFQ1RfSU5DTFVERSIsIml0ZW1zIiwib3JkZXJCeSIsInNvcnRPcmRlciIsImluY2x1ZGUiLCJtYXRlcmlhbHMiLCJmYWJyaWNhdGlvbiIsImNoaWxkcmVuIiwicmVjYXBDb3N0cyIsImJyZWFrb3V0R3JvdXBzIiwiYWRqdXN0bWVudHMiLCJleGNsdXNpb25zIiwicXVhbGlmaWNhdGlvbnMiLCJjdXN0b21SZWNhcENvbHVtbnMiLCJjYW5WaWV3UHJvamVjdCIsInByb2plY3QiLCJyb2xlIiwic3RhdHVzIiwiY2FuRWRpdFByb2plY3QiLCJHRVQiLCJyZXF1ZXN0IiwicGFyYW1zIiwianNvbiIsImVycm9yIiwiaWQiLCJwcm9qZWN0SWQiLCJwYXJzZUludCIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImNvbnNvbGUiLCJQVVQiLCJkYXRhIiwiZXhpc3RpbmciLCJzZWxlY3QiLCJ1cGRhdGVkUHJvamVjdCIsIiR0cmFuc2FjdGlvbiIsInR4IiwidXBkYXRlIiwicHJvamVjdE5hbWUiLCJwcm9qZWN0QWRkcmVzcyIsImN1c3RvbWVyTmFtZSIsImJpbGxpbmdBZGRyZXNzIiwiY3VzdG9tZXJDb250YWN0IiwiY3VzdG9tZXJQaG9uZSIsImN1c3RvbWVyRW1haWwiLCJlc3RpbWF0ZURhdGUiLCJlc3RpbWF0ZWRCeSIsImRyYXdpbmdEYXRlIiwiZHJhd2luZ1JldmlzaW9uIiwiYXJjaGl0ZWN0IiwidHlwZVN0cnVjdHVyYWwiLCJ0eXBlTWlzY2VsbGFuZW91cyIsInR5cGVPcm5hbWVudGFsIiwiZGVsaXZlcnlJbnN0YWxsZWQiLCJkZWxpdmVyeUZvYkpvYnNpdGUiLCJkZWxpdmVyeVdpbGxDYWxsIiwidGF4Q2F0ZWdvcnkiLCJyZWNhcENvc3QiLCJkZWxldGVNYW55IiwiaXRlbSIsImNoaWxkTWF0ZXJpYWxGYWJyaWNhdGlvbiIsImNoaWxkTWF0ZXJpYWwiLCJwYXJlbnQiLCJtYXRlcmlhbEZhYnJpY2F0aW9uIiwibWF0ZXJpYWwiLCJpdGVtRmFicmljYXRpb24iLCJicmVha291dEdyb3VwIiwiYWRqdXN0bWVudCIsImV4Y2x1c2lvbiIsInF1YWxpZmljYXRpb24iLCJjdXN0b21SZWNhcENvbHVtbiIsImJyZWFrb3V0R3JvdXBNYXAiLCJsZW5ndGgiLCJncm91cCIsImNyZWF0ZWQiLCJjcmVhdGUiLCJuYW1lIiwidHlwZSIsImkiLCJjcmVhdGVkSXRlbSIsIml0ZW1OdW1iZXIiLCJpdGVtTmFtZSIsImRyYXdpbmdSZWYiLCJtYXRlcmlhbE1hcmt1cCIsImZhYk1hcmt1cCIsImJyZWFrb3V0R3JvdXBJZCIsIm1pIiwibWF0IiwiY3JlYXRlZE1hdCIsIml0ZW1JZCIsImNhdGVnb3J5Iiwic2hhcGUiLCJwaWVjZXMiLCJzdG9ja0xlbmd0aCIsInN0b2Nrc1JlcXVpcmVkIiwid2FzdGUiLCJ3ZWlnaHRQZXJGdCIsImZhYldlaWdodCIsInN0b2NrV2VpZ2h0IiwicHJpY2VQZXJGdCIsInByaWNlUGVyTGIiLCJ0b3RhbENvc3QiLCJnYWx2YW5pemVkIiwiZ2FsdlJhdGUiLCJ3aWR0aCIsInRoaWNrbmVzcyIsImZpIiwiZmFiIiwibWF0ZXJpYWxJZCIsIm9wZXJhdGlvbiIsInF1YW50aXR5IiwidW5pdCIsInJhdGUiLCJjb25uV2VpZ2h0IiwiaXNHYWx2TGluZSIsImNpIiwiY2hpbGQiLCJjcmVhdGVkQ2hpbGQiLCJwYXJlbnRJZCIsImNmaSIsImNmYWIiLCJjaGlsZE1hdGVyaWFsSWQiLCJpZmkiLCJpZmFiIiwicmVjYXBFbnRyaWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiT2JqZWN0IiwiZW50cmllcyIsImNvc3RUeXBlIiwiY29zdERhdGEiLCJjb3N0IiwibWFya3VwIiwidG90YWwiLCJob3VycyIsImFkaiIsImRlc2NyaXB0aW9uIiwiYW1vdW50IiwicGFyc2VGbG9hdCIsInNlbGVjdGVkRXhjbHVzaW9ucyIsImV4YyIsInRleHQiLCJpc0N1c3RvbSIsImN1c3RvbUV4Y2x1c2lvbnMiLCJzZWxlY3RlZFF1YWxpZmljYXRpb25zIiwicXVhbCIsImN1c3RvbVF1YWxpZmljYXRpb25zIiwiY29sIiwia2V5IiwiREVMRVRFIiwiZGVsZXRlIiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/projects/[id]/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.js\");\n\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                const user = await _db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.findUnique({\n                    where: {\n                        email: credentials.email.toLowerCase().trim()\n                    }\n                });\n                if (!user || !user.active) {\n                    return null;\n                }\n                const isValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compare(credentials.password, user.password);\n                if (!isValid) {\n                    return null;\n                }\n                await _db__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.update({\n                    where: {\n                        id: user.id\n                    },\n                    data: {\n                        lastLoginAt: new Date()\n                    }\n                });\n                return {\n                    id: String(user.id),\n                    email: user.email,\n                    firstName: user.firstName,\n                    lastName: user.lastName,\n                    role: user.role\n                };\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n                token.firstName = user.firstName;\n                token.lastName = user.lastName;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n                session.user.firstName = token.firstName;\n                session.user.lastName = token.lastName;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/login\"\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    secret: process.env.NEXTAUTH_SECRET || process.env.SESSION_SECRET\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtFO0FBQ3BDO0FBQ0o7QUFFbkIsTUFBTUcsY0FBYztJQUN6QkMsV0FBVztRQUNUSiwyRUFBbUJBLENBQUM7WUFDbEJLLE1BQU07WUFDTkMsYUFBYTtnQkFDWEMsT0FBTztvQkFBRUMsT0FBTztvQkFBU0MsTUFBTTtnQkFBUTtnQkFDdkNDLFVBQVU7b0JBQUVGLE9BQU87b0JBQVlDLE1BQU07Z0JBQVc7WUFDbEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixJQUFJLENBQUNBLGFBQWFDLFNBQVMsQ0FBQ0QsYUFBYUksVUFBVTtvQkFDakQsT0FBTztnQkFDVDtnQkFFQSxNQUFNRSxPQUFPLE1BQU1WLDJDQUFNQSxDQUFDVSxJQUFJLENBQUNDLFVBQVUsQ0FBQztvQkFDeENDLE9BQU87d0JBQUVQLE9BQU9ELFlBQVlDLEtBQUssQ0FBQ1EsV0FBVyxHQUFHQyxJQUFJO29CQUFHO2dCQUN6RDtnQkFFQSxJQUFJLENBQUNKLFFBQVEsQ0FBQ0EsS0FBS0ssTUFBTSxFQUFFO29CQUN6QixPQUFPO2dCQUNUO2dCQUVBLE1BQU1DLFVBQVUsTUFBTWpCLHdEQUFjLENBQUNLLFlBQVlJLFFBQVEsRUFBRUUsS0FBS0YsUUFBUTtnQkFDeEUsSUFBSSxDQUFDUSxTQUFTO29CQUNaLE9BQU87Z0JBQ1Q7Z0JBRUEsTUFBTWhCLDJDQUFNQSxDQUFDVSxJQUFJLENBQUNRLE1BQU0sQ0FBQztvQkFDdkJOLE9BQU87d0JBQUVPLElBQUlULEtBQUtTLEVBQUU7b0JBQUM7b0JBQ3JCQyxNQUFNO3dCQUFFQyxhQUFhLElBQUlDO29CQUFPO2dCQUNsQztnQkFFQSxPQUFPO29CQUNMSCxJQUFJSSxPQUFPYixLQUFLUyxFQUFFO29CQUNsQmQsT0FBT0ssS0FBS0wsS0FBSztvQkFDakJtQixXQUFXZCxLQUFLYyxTQUFTO29CQUN6QkMsVUFBVWYsS0FBS2UsUUFBUTtvQkFDdkJDLE1BQU1oQixLQUFLZ0IsSUFBSTtnQkFDakI7WUFDRjtRQUNGO0tBQ0Q7SUFDREMsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFbkIsSUFBSSxFQUFFO1lBQ3ZCLElBQUlBLE1BQU07Z0JBQ1JtQixNQUFNVixFQUFFLEdBQUdULEtBQUtTLEVBQUU7Z0JBQ2xCVSxNQUFNSCxJQUFJLEdBQUdoQixLQUFLZ0IsSUFBSTtnQkFDdEJHLE1BQU1MLFNBQVMsR0FBR2QsS0FBS2MsU0FBUztnQkFDaENLLE1BQU1KLFFBQVEsR0FBR2YsS0FBS2UsUUFBUTtZQUNoQztZQUNBLE9BQU9JO1FBQ1Q7UUFDQSxNQUFNQyxTQUFRLEVBQUVBLE9BQU8sRUFBRUQsS0FBSyxFQUFFO1lBQzlCLElBQUlBLE9BQU87Z0JBQ1RDLFFBQVFwQixJQUFJLENBQUNTLEVBQUUsR0FBR1UsTUFBTVYsRUFBRTtnQkFDMUJXLFFBQVFwQixJQUFJLENBQUNnQixJQUFJLEdBQUdHLE1BQU1ILElBQUk7Z0JBQzlCSSxRQUFRcEIsSUFBSSxDQUFDYyxTQUFTLEdBQUdLLE1BQU1MLFNBQVM7Z0JBQ3hDTSxRQUFRcEIsSUFBSSxDQUFDZSxRQUFRLEdBQUdJLE1BQU1KLFFBQVE7WUFDeEM7WUFDQSxPQUFPSztRQUNUO0lBQ0Y7SUFDQUMsT0FBTztRQUNMQyxRQUFRO0lBQ1Y7SUFDQUYsU0FBUztRQUNQRyxVQUFVO1FBQ1ZDLFFBQVEsS0FBSyxLQUFLLEtBQUs7SUFDekI7SUFDQUMsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxlQUFlLElBQUlGLFFBQVFDLEdBQUcsQ0FBQ0UsY0FBYztBQUNuRSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlZWwtZXN0aW1hdG9yLy4vbGliL2F1dGguanM/Mjg3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHByaXNtYSBmcm9tICcuL2RiJztcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zID0ge1xuICBwcm92aWRlcnM6IFtcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIG5hbWU6ICdDcmVkZW50aWFscycsXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBlbWFpbDogeyBsYWJlbDogJ0VtYWlsJywgdHlwZTogJ2VtYWlsJyB9LFxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogJ1Bhc3N3b3JkJywgdHlwZTogJ3Bhc3N3b3JkJyB9LFxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsLnRvTG93ZXJDYXNlKCkudHJpbSgpIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghdXNlciB8fCAhdXNlci5hY3RpdmUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShjcmVkZW50aWFscy5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgICAgICB3aGVyZTogeyBpZDogdXNlci5pZCB9LFxuICAgICAgICAgIGRhdGE6IHsgbGFzdExvZ2luQXQ6IG5ldyBEYXRlKCkgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogU3RyaW5nKHVzZXIuaWQpLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIGZpcnN0TmFtZTogdXNlci5maXJzdE5hbWUsXG4gICAgICAgICAgbGFzdE5hbWU6IHVzZXIubGFzdE5hbWUsXG4gICAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9KSxcbiAgXSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkO1xuICAgICAgICB0b2tlbi5yb2xlID0gdXNlci5yb2xlO1xuICAgICAgICB0b2tlbi5maXJzdE5hbWUgPSB1c2VyLmZpcnN0TmFtZTtcbiAgICAgICAgdG9rZW4ubGFzdE5hbWUgPSB1c2VyLmxhc3ROYW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5pZDtcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGUgPSB0b2tlbi5yb2xlO1xuICAgICAgICBzZXNzaW9uLnVzZXIuZmlyc3ROYW1lID0gdG9rZW4uZmlyc3ROYW1lO1xuICAgICAgICBzZXNzaW9uLnVzZXIubGFzdE5hbWUgPSB0b2tlbi5sYXN0TmFtZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH0sXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiAnL2xvZ2luJyxcbiAgfSxcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiAnand0JyxcbiAgICBtYXhBZ2U6IDMwICogMjQgKiA2MCAqIDYwLFxuICB9LFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCB8fCBwcm9jZXNzLmVudi5TRVNTSU9OX1NFQ1JFVCxcbn07XG4iXSwibmFtZXMiOlsiQ3JlZGVudGlhbHNQcm92aWRlciIsImJjcnlwdCIsInByaXNtYSIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJhY3RpdmUiLCJpc1ZhbGlkIiwiY29tcGFyZSIsInVwZGF0ZSIsImlkIiwiZGF0YSIsImxhc3RMb2dpbkF0IiwiRGF0ZSIsIlN0cmluZyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicm9sZSIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwic2Vzc2lvbiIsInBhZ2VzIiwic2lnbkluIiwic3RyYXRlZ3kiLCJtYXhBZ2UiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIiwiU0VTU0lPTl9TRUNSRVQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.js\n");

/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nlet prisma;\nif (false) {} else {\n    if (!global.__prisma) {\n        global.__prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = global.__prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLElBQUlDO0FBRUosSUFBSUMsS0FBeUIsRUFBYyxFQUUxQyxNQUFNO0lBQ0wsSUFBSSxDQUFDQyxPQUFPQyxRQUFRLEVBQUU7UUFDcEJELE9BQU9DLFFBQVEsR0FBRyxJQUFJSix3REFBWUE7SUFDcEM7SUFDQUMsU0FBU0UsT0FBT0MsUUFBUTtBQUMxQjtBQUVBLGlFQUFlSCxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlZWwtZXN0aW1hdG9yLy4vbGliL2RiLmpzPzNkYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuXG5sZXQgcHJpc21hO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XG59IGVsc2Uge1xuICBpZiAoIWdsb2JhbC5fX3ByaXNtYSkge1xuICAgIGdsb2JhbC5fX3ByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcbiAgfVxuICBwcmlzbWEgPSBnbG9iYWwuX19wcmlzbWE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHByaXNtYTtcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJwcm9jZXNzIiwiZ2xvYmFsIiwiX19wcmlzbWEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/uuid","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2F%5Bid%5D%2Froute&page=%2Fapi%2Fprojects%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2F%5Bid%5D%2Froute.js&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();